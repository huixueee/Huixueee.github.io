<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><meta name="google-site-verification" content="9ihhNsax6rYLl-xY7x7-O7wYuWMneIib2HkoDjYrlYE"><title>HEXO操作指南（二） | 辉雪</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><a href="https://github.com/tufu9441/maupassant-hexo" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">HEXO操作指南（二）</h1><a id="logo" href="/.">辉雪</a><p class="description">じんるいほかんけいかく</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/photos/"><i class="fa fa-picture-o"> 相册</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">HEXO操作指南（二）</h1><div class="post-meta">Feb 12, 2019<span> | </span><span class="category"><a href="/categories/Technology/">Technology</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 766</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-hourglass-half"></i><span class="post-count"> 3</span><span class="post-meta-item-text"> 分钟</span></span></span></div><a class="disqus-comment-count" href="/2019/02/12/hexo操作手册二/#vcomment"><span class="valine-comment-count" data-xid="/2019/02/12/hexo操作手册二/"></span><span> 条评论</span></a><div class="post-content"><h2 id="使用前提"><a href="#使用前提" class="headerlink" title="使用前提"></a>使用前提</h2><p>经常碰到这种情况：当你在一个Git 项目上工作时，你需要在其中使用另外一个Git 项目。也许它是一个第三方开发的Git 库或者是你独立开发和并在多个父项目中使用的。这个情况下一个常见的问题产生了：你想将两个项目单独处理但是又需要在其中一个中使用另外一个。</p>
<p>在Git 中你可以用子模块<code>submodule</code>来管理这些项目，<code>submodule</code>允许你将一个Git 仓库当作另外一个Git 仓库的子目录。这允许你克隆另外一个仓库到你的项目中并且保持你的提交相对独立。</p>
<h2 id="添加子模块"><a href="#添加子模块" class="headerlink" title="添加子模块"></a>添加子模块</h2><p>此文中统一将远程项目<code>https://github.com/maonx/vimwiki-assets.git</code>克隆到本地`assets文件夹。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git submodule add https://github.com/maonx/vimwiki-assets.git assets</span><br></pre></td></tr></table></figure></p>
<p>添加子模块后运行<code>git status</code>, 可以看到目录有增加1个文件<code>.gitmodules</code>, 这个文件用来保存子模块的信息。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">Initial commit</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git rm --cached &lt;file&gt;..."</span> to unstage)</span><br><span class="line"></span><br><span class="line">    new file:   .gitmodules</span><br><span class="line">    new file:   assets</span><br></pre></td></tr></table></figure></p>
<h2 id="查看子模块"><a href="#查看子模块" class="headerlink" title="查看子模块"></a>查看子模块</h2><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git submodule</span><br><span class="line"> e33f854d3f51f5ebd771a68da05ad0371a3c0570 assets (<span class="name">heads/master</span>)</span><br></pre></td></tr></table></figure>
<h2 id="更新子模块"><a href="#更新子模块" class="headerlink" title="更新子模块"></a>更新子模块</h2><h3 id="更新项目内子模块到最新版本"><a href="#更新项目内子模块到最新版本" class="headerlink" title="更新项目内子模块到最新版本"></a>更新项目内子模块到最新版本</h3><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">git</span> <span class="keyword">submodule </span>update</span><br></pre></td></tr></table></figure>
<h3 id="更新子模块为远程项目的最新版本"><a href="#更新子模块为远程项目的最新版本" class="headerlink" title="更新子模块为远程项目的最新版本"></a>更新子模块为远程项目的最新版本</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git submodule <span class="keyword">update</span> <span class="comment">--remote</span></span><br></pre></td></tr></table></figure>
<h2 id="克隆包含子模块的项目"><a href="#克隆包含子模块的项目" class="headerlink" title="克隆包含子模块的项目"></a>克隆包含子模块的项目</h2><p>克隆包含子模块的项目有二种方法：一种是先克隆父项目，再更新子模块；另一种是直接递归克隆整个项目。</p>
<h3 id="克隆父项目，再更新子模块"><a href="#克隆父项目，再更新子模块" class="headerlink" title="克隆父项目，再更新子模块"></a>克隆父项目，再更新子模块</h3><p>克隆父项目</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">clone</span> <span class="title">https</span>://github.com/maonx/vimwiki-assets.git assets</span><br></pre></td></tr></table></figure>
<p>查看子模块</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">git</span> <span class="keyword">submodule</span></span><br><span class="line"><span class="keyword"> </span>-e33f854d3f51f5ebd771a68da05ad0371a3c0570 assets</span><br></pre></td></tr></table></figure>
<p>子模块前面有一个-，说明子模块文件还未检入（空文件夹）。</p>
<p>初始化子模块</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git submodule init</span><br><span class="line">Submodule <span class="string">'assets'</span> (https:<span class="regexp">//gi</span>thub.com<span class="regexp">/maonx/</span>vimwiki-assets.git) registered <span class="keyword">for</span> path <span class="string">'assets'</span></span><br></pre></td></tr></table></figure>
<p>初始化模块只需在克隆父项目后运行一次。</p>
<p>更新子模块</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git submodule update</span><br><span class="line">Cloning into <span class="string">'assets'</span>...</span><br><span class="line"><span class="string">remote:</span> Counting <span class="string">objects:</span> <span class="number">151</span>, done.</span><br><span class="line"><span class="string">remote:</span> Compressing <span class="string">objects:</span> <span class="number">100</span>% (<span class="number">80</span>/<span class="number">80</span>), done.</span><br><span class="line"><span class="string">remote:</span> Total <span class="number">151</span> (delta <span class="number">18</span>), reused <span class="number">0</span> (delta <span class="number">0</span>), pack-reused <span class="number">70</span></span><br><span class="line">Receiving <span class="string">objects:</span> <span class="number">100</span>% (<span class="number">151</span><span class="regexp">/151), 1.34 MiB | 569.00 KiB/</span>s, done.</span><br><span class="line">Resolving <span class="string">deltas:</span> <span class="number">100</span>% (<span class="number">36</span>/<span class="number">36</span>), done.</span><br><span class="line">Checking connectivity... done.</span><br><span class="line">Submodule path <span class="string">'assets'</span>: checked out <span class="string">'e33f854d3f51f5ebd771a68da05ad0371a3c0570'</span></span><br></pre></td></tr></table></figure>
<h3 id="递归克隆整个项目"><a href="#递归克隆整个项目" class="headerlink" title="递归克隆整个项目"></a>递归克隆整个项目</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/maonx/vimwiki-assets.git assets --recursive</span><br></pre></td></tr></table></figure>
<p>递归克隆整个项目，子模块已经同时更新了，一步到位。</p>
<h2 id="修改子模块"><a href="#修改子模块" class="headerlink" title="修改子模块"></a>修改子模块</h2><p>在子模块中修改文件后，直接提交到远程项目分支。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git ci -m <span class="string">"commit"</span></span><br><span class="line">git push origin HEAD:master</span><br></pre></td></tr></table></figure>
<h2 id="删除子模块"><a href="#删除子模块" class="headerlink" title="删除子模块"></a>删除子模块</h2><p><strong>删除子模块比较麻烦，需要手动删除相关的文件，否则在添加子模块时有可能出现错误</strong><br>同样以删除<code>assets</code>文件夹为例</p>
<p>删除子模块文件夹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git rm --cached assets</span><br><span class="line">rm -rf assets</span><br></pre></td></tr></table></figure>
<p>删除<code>.gitmodules</code>文件中相关子模块信息</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[submodule <span class="string">"assets"</span>]</span><br><span class="line">  path = assets</span><br><span class="line">  url = https://github.com/maonx/vimwiki-assets.git</span><br></pre></td></tr></table></figure>
<p>删除<code>.git/config</code>中的相关子模块信息</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[submodule <span class="string">"assets"</span>]</span><br><span class="line">  url = https://github.com/maonx/vimwiki-assets.git</span><br></pre></td></tr></table></figure>
<p>删除<code>.git</code>文件夹中的相关子模块文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf .git/modules/assets</span><br></pre></td></tr></table></figure></div><div class="tags"><a href="/tags/HEXO/">HEXO</a></div><div class="post-nav"><a class="pre" href="/2019/02/18/科研-仪器基本操作一/">科研仪器基本原理（一）</a><a class="next" href="/2019/02/11/hexo操作手册/">HEXO操作指南（一）</a></div><div id="vcomment"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' == true ? true : false;
var verify = 'false' == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'',
  appKey:'',
  placeholder:'Just so so',
  avatar:'mm',
  guest_info:guest_info,
  pageSize:'10'
})</script><div class="recommended_posts"><h3>推荐阅读</h3><li><a href="https://huixueee.com/2019/02/07/title”/" target="_blank">此刻这就是星辰大海</a></li></div></div></div></div><div class="pure-u-1-4 toc-and-sidebar"><div id="sidebar"><div class="toc-switch"></div><div id="hon-toc"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#使用前提"><span class="toc-number">1.</span> <span class="toc-text">使用前提</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#添加子模块"><span class="toc-number">2.</span> <span class="toc-text">添加子模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查看子模块"><span class="toc-number">3.</span> <span class="toc-text">查看子模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#更新子模块"><span class="toc-number">4.</span> <span class="toc-text">更新子模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#更新项目内子模块到最新版本"><span class="toc-number">4.1.</span> <span class="toc-text">更新项目内子模块到最新版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#更新子模块为远程项目的最新版本"><span class="toc-number">4.2.</span> <span class="toc-text">更新子模块为远程项目的最新版本</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#克隆包含子模块的项目"><span class="toc-number">5.</span> <span class="toc-text">克隆包含子模块的项目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#克隆父项目，再更新子模块"><span class="toc-number">5.1.</span> <span class="toc-text">克隆父项目，再更新子模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#递归克隆整个项目"><span class="toc-number">5.2.</span> <span class="toc-text">递归克隆整个项目</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#修改子模块"><span class="toc-number">6.</span> <span class="toc-text">修改子模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#删除子模块"><span class="toc-number">7.</span> <span class="toc-text">删除子模块</span></a></li></ol></div></div><div id="blog-sidebar"><div class="widget"><a href="https://huixueee.github.io/"><img src="https://s2.ax1x.com/2019/02/22/kf9bKe.png" alt border="0" style="margin-top:15px; border-radius: 300px;" width="180px" ; height="180px"></a></div><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/3D-Design/">3D Design</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Emotion/">Emotion</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Science/">Science</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Technology/">Technology</a><span class="category-list-count">3</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Material-Science/" style="font-size: 15px;">Material Science</a> <a href="/tags/HEXO/" style="font-size: 15px;">HEXO</a> <a href="/tags/Rhino/" style="font-size: 15px;">Rhino</a> <a href="/tags/C4D/" style="font-size: 15px;">C4D</a> <a href="/tags/随笔/" style="font-size: 15px;">随笔</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/11/18/几种离子分散方式/">一些好玩的3d科研图</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/17/使hexo接入google/">HEXO操作指南（三）</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/16/c4d-rhino/">一些好玩的3d科研图</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/17/长江存储面试/">记一次长江存储面试</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/15/SEM基本原理（Part 2）/">科研仪器基本原理（四）</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/13/SEM制样/">SEM制样</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/10/SEM基本原理/">科研仪器基本原理（三）</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/09/NMR在锂电池中的应用/">科研仪器基本原理（二）</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/18/科研-仪器基本操作一/">科研仪器基本原理（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/12/hexo操作手册二/">HEXO操作指南（二）</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://nyxr-home.com/" title="能源学人" target="_blank">能源学人</a><ul></ul><a href="https://www.x-mol.com/paper/chem" title="X-MOL 材料学文章平台" target="_blank">X-MOL 材料学文章平台</a><ul></ul><a href="https://xsun4231.github.io/" title="朋友的博客" target="_blank">朋友的博客</a></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">辉雪.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><canvas id="canvas" style="height:100%">
</canvas><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script><script type="text/javascript" src="/js/tocjs.js?v=0.0.0"></script><canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"></canvas>
<script type="text/javascript" src="/js/anime.2.1.0.js"></script>
<script type="text/javascript" src="/js/fireworks.js"></script><script type="text/javascript" src="/js/crash_cheat.js"></script></div></div></body></html>